<!DOCTYPE HTML>
<html lang="en-US">

<head>
    <title>React-admin - Documentation</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="description" content="">
    <meta name="HandheldFriendly" content="true" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/syntax.css">
    <link rel="stylesheet" href="css/prism.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/4.4.0/font/octicons.css">
</head>

<body>
    <div class="book with-summary font-size-2 font-family-1">
        <div id="book-summary" class="book-summary">
            <nav role="navigation">
                <ul class="summary">
                    <li class="header">Table of Contents</li>
                    <li class="chapter ">
                        <a href="./index.html">
                            <b>1.</b> Read Me
                        </a>
                    </li>
                    <li class="chapter ">
                        <a href="./pool.html">
                            <b>2.</b> Pool
                        </a>
                        <ul class="articles" style="display:none" >
                            <li class="chapter">
                                <a href="#connection">
                                    <code>Connection</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#namedQuery">
                                    <code>namedQuery</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#link">
                                    <code>link</code>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="header">Query Builder</li>
                    <li class="chapter ">
                        <a href="./queryBuilder.html">
                            <b>1.</b> Basic principe
                        </a>
                    </li>
                    <li class="chapter active">
                        <a href="./configuration.html">
                            <b>2.</b> Configuration
                        </a>
                        <ul class="articles" >
                            <li class="chapter">
                                <a href="#table">
                                    <code>Table</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#primaryKey">
                                    <code>primaryKey</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#returnCols">
                                    <code>returnCols</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#writableCols">
                                    <code>writableCols</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#searchableCols">
                                    <code>searchableCols</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#specificSorts">
                                    <code>specificSorts</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#groupByCols">
                                    <code>groupByCols</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#withQuery">
                                    <code>withQuery</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#permanentFilters">
                                    <code>permanentFilters</code>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="chapter ">
                        <a href="./builderList.html">
                            <b>2.</b> All the query builders
                        </a>
                        <ul class="articles" style="display:none" >
                            <li class="chapter">
                                <a href="#selectOne">
                                    <code>selectOne</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#select">
                                    <code>select</code>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </div>
        <div id="book-body" class="book-body">
            <div class="body-inner">
                <div class="page-wrapper" tabindex="-1" role="main">
                    <div class="page-inner">

                        <div id="book-search-results">
                            <div class="search-noresults">

                                <section class="normal markdown-section">

                                    <h1 id="query-builder-configuration">Query builder configuration</h1>

<p>The <a href="#builderList">query builders</a> possess the following configurations options</p>

<ul>
  <li><a href="#table">table</a></li>
  <li><a href="#primarykey">primaryKey</a></li>
  <li><a href="#writablecols">writableCols</a></li>
  <li><a href="#searchablecols">searchabeCols</a></li>
  <li><a href="#specificsorts">specificSorts</a></li>
  <li><a href="#groupbycols">groupByCols</a></li>
  <li><a href="#withQuery">withQUery</a></li>
</ul>

<h2 id="table"><code class="highlighter-rouge">table</code></h2>

<p>Allow to set the name of the table for the query.</p>

<p>The table name can also be a join expression.</p>

<p><code class="highlighter-rouge">user JOIN command ON user.id command.user_id</code></p>

<p>Used by</p>
<ul>
  <li><a href="builderList.html/#selectOne">selectOne</a></li>
  <li><a href="builderList.html/#select">select</a></li>
  <li><a href="builderList.html/#count">count</a></li>
  <li><a href="builderList.html/#selectByOrderedIdentifiers">selectByOrderedIdentifiers</a></li>
  <li><a href="builderList.html/#upsertOne">upsertOne</a></li>
  <li><a href="builderList.html/#batchInsert">batchInsert</a></li>
  <li><a href="builderList.html/#BatchUpsert">BatchUpsert</a></li>
  <li><a href="builderList.html/#insertOne">insertOne</a></li>
  <li><a href="builderList.html/#remove">remove</a></li>
  <li><a href="builderList.html/#batchRemove">batchRemove</a></li>
  <li><a href="builderList.html/#removeOne">removeOne</a></li>
  <li><a href="builderList.html/#update">update</a></li>
  <li><a href="builderList.html/#updateOne">updateOne</a></li>
  <li><a href="builderList.html/#crud">crud</a></li>
</ul>

<h2 id="primarykey"><code class="highlighter-rouge">primaryKey</code></h2>

<p>Specify the primary key for the query. The primary key is one or more column that identifies a single row in the sql table.</p>

<p>Accept either a string for a single id (<code class="highlighter-rouge">'id'</code>), or an array of string for a composite primaryKey (<code class="highlighter-rouge">['user_id', 'command_id']</code>)</p>

<p>Used by</p>
<ul>
  <li><a href="builderList.html/#selectOne">selectOne</a></li>
  <li><a href="builderList.html/#select">select</a></li>
  <li><a href="builderList.html/#selectByOrderedIdentifiers">selectByOrderedIdentifiers</a></li>
  <li><a href="builderList.html/#upsertOne">upsertOne</a></li>
  <li><a href="builderList.html/#batchInsert">batchInsert</a></li>
  <li><a href="builderList.html/#BatchUpsert">BatchUpsert</a></li>
  <li><a href="builderList.html/#insertOne">insertOne</a></li>
  <li><a href="builderList.html/#remove">remove</a></li>
  <li><a href="builderList.html/#batchRemove">batchRemove</a></li>
  <li><a href="builderList.html/#removeOne">removeOne</a></li>
  <li><a href="builderList.html/#update">update</a></li>
  <li><a href="builderList.html/#updateOne">updateOne</a></li>
  <li><a href="builderList.html/#crud">crud</a></li>
</ul>

<h2 id="writablecols"><code class="highlighter-rouge">writableCols</code></h2>

<p>The list of columns that can be set in insert and update queries.
Any key not in this array will be removed from the filter parameter.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'firstname'</span><span class="p">]</span>
</code></pre></div></div>

<p>Used by</p>
<ul>
  <li><a href="builderList.html/#upsertOne">upsertOne</a></li>
  <li><a href="builderList.html/#batchInsert">batchInsert</a></li>
  <li><a href="builderList.html/#BatchUpsert">BatchUpsert</a></li>
  <li><a href="builderList.html/#insertOne">insertOne</a></li>
  <li><a href="builderList.html/#update">update</a></li>
  <li><a href="builderList.html/#updateOne">updateOne</a></li>
  <li><a href="builderList.html/#crud">crud</a></li>
</ul>

<h2 id="searchablecols"><code class="highlighter-rouge">searchableCols</code></h2>

<p>The list of column that can be searched in select query.</p>

<p>Used by</p>
<ul>
  <li><a href="builderList.html/#select">select</a></li>
  <li><a href="builderList.html/#crud">crud</a></li>
</ul>

<h2 id="specificsorts"><code class="highlighter-rouge">specificSorts</code></h2>

<p>Allow to specify specific sorts for select.
A specific sorts is used to tell the builder how to sort an enumerable column.</p>

<p>For example imagine a level column that can have the values of <code class="highlighter-rouge">novice</code>, <code class="highlighter-rouge">expert</code> or <code class="highlighter-rouge">master</code>.
In order to be able to sort these values, we need to tell sql which value is greater than the other.
In our case <code class="highlighter-rouge">master</code> &gt; <code class="highlighter-rouge">expert</code> &gt; <code class="highlighter-rouge">novice</code>.
So we pass</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="nl">specificSorts</span><span class="p">:</span> <span class="p">{</span>
        <span class="nl">level</span><span class="p">:</span> <span class="p">[</span><span class="s1">'master'</span><span class="p">,</span> <span class="s1">'expert'</span><span class="p">,</span> <span class="s1">'novice'</span><span class="p">],</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<p>So that the builder can know how to sort the level column.</p>

<p>If you are interrested, the resulting sql for the order level part will be:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ORDER</span> <span class="k">BY</span> <span class="k">CASE</span> <span class="k">level</span>
    <span class="k">WHEN</span> <span class="s1">'master'</span> <span class="k">THEN</span> <span class="mi">1</span>
    <span class="k">WHEN</span> <span class="s1">'expert'</span> <span class="k">THEN</span> <span class="mi">2</span>
    <span class="k">WHEN</span> <span class="s1">'novice'</span> <span class="k">THEN</span> <span class="mi">3</span>
<span class="k">END</span>
</code></pre></div></div>

<p>Obviously this will be only used when sorting by the concerned column see <a href="builderList.html/#select">select</a></p>

<p>Used by</p>
<ul>
  <li><a href="builderList.html/#select">select</a></li>
  <li><a href="builderList.html/#crud">crud</a></li>
</ul>

<h2 id="groupbycols"><code class="highlighter-rouge">groupByCols</code></h2>

<p>An optional array of columns name by which to group the result in select query.</p>

<p>Used by</p>
<ul>
  <li><a href="builderList.html/#select">select</a></li>
  <li><a href="builderList.html/#crud">crud</a></li>
</ul>

<h2 id="withquery"><code class="highlighter-rouge">withQuery</code></h2>

<p>An optional boolean to modify the select querybuilder to use a <a href="https://www.postgresql.org/docs/9.1/static/queries-with.html">WITH</a> statement on top of the SELECT.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">WITH</span> <span class="k">result</span> <span class="k">AS</span> <span class="p">(</span>
<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">firstname</span> <span class="k">FROM</span> <span class="k">user</span> <span class="k">JOIN</span> <span class="n">command</span> <span class="k">ON</span> <span class="k">user</span><span class="p">.</span><span class="n">id</span> <span class="n">table2</span><span class="p">.</span><span class="n">id</span>
<span class="p">)</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="k">result</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">id</span> <span class="k">ASC</span>
</code></pre></div></div>

<p>This can be useful when operating on joined table and or computed field as it allows to sort and filter on joined column, and or computed value.</p>

<p>Note: if the builder detect join in the table name it will automatically use a WITH statement.
You can set withQuery to false to deactivate this.</p>

<p>Used by</p>
<ul>
  <li><a href="builderList.html/#select">select</a></li>
  <li><a href="builderList.html/#crud">crud</a></li>
</ul>

<h2 id="permanentfilter">permanentFilter</h2>

<p>Allow to set permanent filter that will add filter on every query.
Useful to hide som</p>


                                </section>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-46201426-1', 'auto');
            ga('send', 'pageview');
        </script>
        <script src="js/prism.js"></script>
</body>

</html>
