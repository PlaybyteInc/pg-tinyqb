<!DOCTYPE HTML>
<html lang="en-US">

<head>
    <title>React-admin - Documentation</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="description" content="">
    <meta name="HandheldFriendly" content="true" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/syntax.css">
    <link rel="stylesheet" href="css/prism.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/4.4.0/font/octicons.css">
</head>

<body>
    <div class="book with-summary font-size-2 font-family-1">
        <div id="book-summary" class="book-summary">
            <nav role="navigation">
                <ul class="summary">
                    <li class="header">Table of Contents</li>
                    <li class="chapter ">
                        <a href="./index.html">
                            <b>1.</b> Read Me
                        </a>
                    </li>
                    <li class="chapter ">
                        <a href="./pool.html">
                            <b>2.</b> Pool
                        </a>
                        <ul class="articles" style="display:none" >
                            <li class="chapter">
                                <a href="#connection">
                                    <code>Connection</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#namedQuery">
                                    <code>namedQuery</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#link">
                                    <code>link</code>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="header">Query Builder</li>
                    <li class="chapter ">
                        <a href="./queryBuilder.html">
                            <b>1.</b> Basic principe
                        </a>
                    </li>
                    <li class="chapter ">
                        <a href="./configuration.html">
                            <b>2.</b> Configuration
                        </a>
                        <ul class="articles" style="display:none" >
                            <li class="chapter">
                                <a href="#table">
                                    <code>Table</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#primaryKey">
                                    <code>primaryKey</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#returnCols">
                                    <code>returnCols</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#writableCols">
                                    <code>writableCols</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#searchableCols">
                                    <code>searchableCols</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#specificSorts">
                                    <code>specificSorts</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#groupByCols">
                                    <code>groupByCols</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#withQuery">
                                    <code>withQuery</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#permanentFilters">
                                    <code>permanentFilters</code>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="chapter ">
                        <a href="./builderList.html">
                            <b>2.</b> All the query builders
                        </a>
                        <ul class="articles" style="display:none" >
                            <li class="chapter">
                                <a href="#selectOne">
                                    <code>selectOne</code>
                                </a>
                            </li>
                            <li class="chapter">
                                <a href="#select">
                                    <code>select</code>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </div>
        <div id="book-body" class="book-body">
            <div class="body-inner">
                <div class="page-wrapper" tabindex="-1" role="main">
                    <div class="page-inner">

                        <div id="book-search-results">
                            <div class="search-noresults">

                                <section class="normal markdown-section">

                                    <h2 id="selectone">selectOne</h2>

<p>Allows to create a select query to retrieve one row based on a primaryKey.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">selectOne</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'postgres-queries/builder'</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">selectOneUser</span> <span class="o">=</span> <span class="nx">selectOne</span><span class="p">({</span>
    <span class="na">table</span><span class="p">:</span> <span class="s1">'user'</span><span class="p">,</span>
    <span class="na">primaryKey</span><span class="p">:</span> <span class="p">[</span><span class="s1">'id'</span><span class="p">,</span> <span class="s1">'uid'</span><span class="p">],</span>
    <span class="na">returnCols</span><span class="p">:</span> <span class="p">[</span><span class="s1">'id'</span><span class="p">,</span> <span class="s1">'name'</span><span class="p">],</span>
    <span class="na">permanentFilters</span><span class="p">:</span> <span class="p">{},</span>
<span class="p">});</span> <span class="c1">// first we pass a configuration object</span>

<span class="nx">selectOneUser</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">uid</span><span class="p">:</span> <span class="mi">2</span> <span class="p">});</span> <span class="c1">// and then we pass the identifier</span>
<span class="c1">// to get the result:</span>
<span class="p">{</span>
    <span class="nl">sql</span><span class="p">:</span> <span class="s2">`SELECT id, name FROM user WHERE id=$id AND uid=$uid;`</span><span class="p">,</span>
    <span class="nx">parameters</span><span class="p">:</span> <span class="p">{</span>
        <span class="nl">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nx">uid</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="nx">returnOne</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Here are all the available configuration:</p>

<ul>
  <li>table: the table name the</li>
</ul>

<p>Creates a query to select one row by primaryKey.</p>

<h3 id="configuration">Configuration</h3>

<ul>
  <li>table: the table name</li>
  <li>primaryKey: One or more columns representing the primary key. Accept either an array or a single value. (default: <code class="highlighter-rouge">id</code>)</li>
  <li>returnCols: list of columns retrieved by the query</li>
  <li>permanentFilters: List of filters applied by default, e. g. for a soft delete with permanentFilters as <code class="highlighter-rouge">{ deleted_at: null}</code></li>
</ul>

<h3 id="parameters">Parameters</h3>

<p>A literal in the form of:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="nl">id1</span><span class="p">:</span> <span class="nx">value</span><span class="p">,</span>
    <span class="nx">id2</span><span class="p">:</span> <span class="nx">value</span><span class="p">,</span>
    <span class="p">...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Any key not present in primaryKey will be ignored.</p>



                                </section>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-46201426-1', 'auto');
            ga('send', 'pageview');
        </script>
        <script src="js/prism.js"></script>
</body>

</html>
